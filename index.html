const utils=(()=>{const e={get(t,o=null)=>{try{const r=localStorage.getItem(t);return r===null?o:JSON.parse(r)}catch{return localStorage.removeItem(t),o}},set(t,o)=>{try{localStorage.setItem(t,JSON.stringify(o))}catch(r){throw new Error(`utils.storage.set failed: ${r.message}`)}},remove(t){localStorage.removeItem(t)},clear(){localStorage.clear()}},r={getCurrent:()=>new Promise((t,o)=>{if(!navigator.geolocation)return o(new Error("Geolocation not supported"));navigator.geolocation.getCurrentPosition(n=>{const{latitude:i,longitude:a,accuracy:l}=n.coords;t({lat:i,lng:a,accuracy:l})},n=>{let i="Unknown geolocation error";n.code===n.PERMISSION_DENIED?i="Location permission denied":n.code===n.POSITION_UNAVAILABLE?i="Location unavailable":n.code===n.TIMEOUT&&(i="Location timeout"),o(new Error(i))}, {enableHighAccuracy:!0,timeout:1e4,maximumAge:6e5})})},n={createElement(t,o={})=>{const r=document.createElement(t);if(o.class||o.className){const e=o.class||o.className;Array.isArray(e)?r.classList.add(...e):r.className=e}o.text!==void 0?r.textContent=o.text:o.html!==void 0&&(r.innerHTML=o.html);if(o.attrs)for(const[e,s]of Object.entries(o.attrs))r.setAttribute(e,s);if(o.on)for(const[e,s]of Object.entries(o.on)){const c=e.toLowerCase().replace(/^on/,"");r.addEventListener(c,s)}if(o.dataset)for(const[e,s]of Object.entries(o.dataset))r.dataset[e]=s;return r}},i={measure(t)=>{const o=performance.now(),r=t();return r&&typeof r.then=="function"?r.then(()=>performance.now()-o):performance.now()-o},debounce(t,o)=>{let r;return function(...n){clearTimeout(r),r=setTimeout(()=>t.apply(this,n),o)}},throttle(t,o)=>{let r=0;return function(...n){const i=Date.now();i-r>=o&&(r=i,t.apply(this,n))}}},a=(()=>{let t=0,o=0;return{create(r="id")=>{let n=Date.now();return n===t?o++:(o=0,t=n),{}.random=Math.random().toString(36).substr(2,5),`${r}-${t}-${o}-{}.random}`}}})();return{storage:e,geo:r,dom:n,perf:i,id:a}})();typeof module!="undefined"&&module.exports?module.exports=utils:typeof window!="undefined"&&(window.utils=utils);
