const utils=(()=>{const t={get(e,o=null)=>{try{const r=localStorage.getItem(e);return r===null?o:JSON.parse(r)}catch{localStorage.removeItem(e);return o}},set(e,o)=>{try{localStorage.setItem(e,JSON.stringify(o))}catch(r){throw new Error(`utils.storage.set failed: ${r.message}`)}}},remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()}},e={getCurrent:()=>new Promise((o,r)=>{if(!navigator.geolocation)return r(new Error("Geolocation not supported"));navigator.geolocation.getCurrentPosition(n=>{const{latitude:i,longitude:a,accuracy:l}=n.coords;o({lat:i,lng:a,accuracy:l})},n=>{let i="Unknown geolocation error";n.code===n.PERMISSION_DENIED?i="Location permission denied":n.code===n.POSITION_UNAVAILABLE?i="Location unavailable":n.code===n.TIMEOUT&&(i="Location timeout"),r(new Error(i))}, {enableHighAccuracy:!0,timeout:1e4,maximumAge:6e5})})},o={measure(e)=>{const o=performance.now(),r=e();return r&&typeof r.then=="function"?r.then(()=>performance.now()-o):performance.now()-o},debounce(e,o)=>{let r;return function(...n){clearTimeout(r),r=setTimeout(()=>e.apply(this,n),o)}},throttle(e,o)=>{let r=0;return function(...n){const i=Date.now();i-r>=o&&(r=i,e.apply(this,n))}}},r=(()=>{let e=0,o=0;return{create(r="id")=>{let n=Date.now();return n===e?o++:(o=0,e=n),{}.random=Math.random().toString(36).substr(2,5),`${r}-${n}-${o}-{}.random}`}}})();return{storage:t,geo:e,perf:o,id:r}})();typeof module!="undefined"&&module.exports?module.exports=utils:typeof window!="undefined"&&(window.utils=utils);
